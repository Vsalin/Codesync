<!DOCTYPE html>
<html lang="en">
<head>
<title>CodeSync</title>
<style type="text/css" media="screen">
    #editor { 
        position: fixed; 
        top: 0;
        right: 0;
        bottom: 0;
        left: 160px; 
    }
      .navbar-fixed-left {
        width: 160px;
        position: fixed;
        border-radius: 0;
        height: 100%;
        background: black;
        top:0;
        left: 0;
        color: white;
      }
      .navbar-fixed-left + .container {
        padding-left: 170px;
      }
</style>
</head>
<body>

<div class="navbar-fixed-left">
  <ul class="nav navbar-nav">
   <li id ="directory">Directory file</li>
  </ul>
</div>
<div class="container">
  <div id="editor">
  </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.7/ace.js" type="text/javascript" charset="utf-8"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://code.jquery.com/jquery-1.11.1.js"></script>
<script>
     var editor = ace.edit("editor");
     editor.setTheme("ace/theme/twilight");
     editor.getSession().setMode("ace/mode/javascript");
     editor.$blockScrolling = Infinity;
</script>
<script src="/socket.io/socket.io.js"></script>
<script>
    var socket = io();
      
    socket.on('listdir', function (data) {
        data.forEach((file) => {
              $('#directory').append('<li><a><a href="#" data-path="' + file + '">' + file + '</a></li>')
            })
       // console.log(data);
    });
    $('#directory').on('click', 'li > a', function(event) {
        var pathFile = $(this).data('path');  //path
        console.log(pathFile);
        socket.emit('Callpath',pathFile);
        
        
    })
    socket.on('readfile', function (datafile) {
        editor.setValue(datafile,-1); 
        socket.emit('Unsubscribe',"");
    });
</script>


</body>

</html>